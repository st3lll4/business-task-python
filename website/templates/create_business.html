{% extends "base.html" %}
{% block title %}Create a business{% endblock %}

{% block content %}
<div class="container-fluid h-25 bg-white text-center mb-4">
    <h1>Enter details for the new business</h1>
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-danger">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}
</div>

<div class="container">
    <form method="post" id="createBusinessForm">
        {{ form.csrf_token }}

        <div class="row mb-3 justify-content-center">
            <label for="business_name" class="col-sm-2 col-form-label text-end fw-bold">Name</label>
            <div class="col-sm-3">
                {{ form.business_name(class="form-control") }}
                {% if form.business_name.errors %}
                    <div class="text-danger">{{ form.business_name.errors[0] }}</div>
                {% endif %}
            </div>
        </div>

        <div class="row mb-3 justify-content-center">
            <label for="registry_code" class="col-sm-2 col-form-label text-end fw-bold">Registry code</label>
            <div class="col-sm-3">
                {{ form.registry_code(class="form-control") }}
                {% if form.registry_code.errors %}
                    <div class="text-danger">{{ form.registry_code.errors[0] }}</div>
                {% endif %}
            </div>
        </div>

        <div class="row mb-3 justify-content-center">
            <label for="founding_date" class="col-sm-2 col-form-label text-end fw-bold">Founding date</label>
            <div class="col-sm-3">
                {{ form.founding_date(class="form-control") }}
                {% if form.founding_date.errors %}
                    <div class="text-danger">{{ form.founding_date.errors[0] }}</div>
                {% endif %}
            </div>
        </div>

        <div class="row mb-3 justify-content-center">
            <label for="total_capital" class="col-sm-2 col-form-label text-end fw-bold">Total capital</label>
            <div class="col-sm-3">
                {{ form.total_capital(class="form-control") }}
                {% if form.total_capital.errors %}
                    <div class="text-danger">{{ form.total_capital.errors[0] }}</div>
                {% endif %}
            </div>
        </div>

        <div id="shareholders-container">
        </div>

        <div class="row">
            <div class="col text-center">
                <button type="button" class="btn btn-secondary" id="addShareholderBtn">Add Shareholder</button>
                <button type="submit" class="btn btn-dark">Create</button>
            </div>
        </div>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>

</script>
{% endblock %}